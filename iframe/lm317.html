<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LM117/LM317 输出电压计算器</title>
	<link rel="stylesheet" href="/iframe/my.css">
</head>
<body>
<div class="container">
    <h1>LM117/LM317 输出电压计算器</h1>

    <!-- 公式展示 -->
    <div class="formula">
        <p><strong>输出电压计算公式：</strong><br>
            V<sub>out</sub> = 1.25 × (1 + R<sub>2</sub> / R<sub>1</sub>)<br>
            其中：<br>
            - R<sub>1</sub> 和 R<sub>2</sub> 为外接电阻<br>
            - V<sub>out</sub> 为输出电压
        </p>
    </div>

    <label for="resistor1">电阻 R1 (Ω):</label>
    <input type="number" id="resistor1" placeholder="请输入电阻 R1 的值">

    <label for="resistor2">电阻 R2 (Ω):</label>
    <input type="number" id="resistor2" placeholder="请输入电阻 R2 的值">

    <label for="result">输出电压 (V):</label>
    <input type="text" id="result" readonly placeholder="计算结果将在此显示">

    <div id="error-message" class="alert" style="display: none;">请输入有效的电阻值！</div>

    <button class="calculate" onclick="calculateVoltage()">计算</button>
    <button class="clear" onclick="clearInputs()">清空</button>
</div>

<script>
    function calculateVoltage() {
        const R1 = parseFloat(document.getElementById('resistor1').value);
        const R2 = parseFloat(document.getElementById('resistor2').value);

        const errorMessage = document.getElementById('error-message');
        const resultInput = document.getElementById('result');

        // 隐藏错误消息
        errorMessage.style.display = 'none';

        // 验证输入
        if (isNaN(R1) || isNaN(R2) || R1 <= 0 || R2 <= 0) {
            errorMessage.style.display = 'block';
            resultInput.value = '';
        } else {
            // 计算输出电压
            const Vout = 1.25 * (1 + R2 / R1);
            resultInput.value = Vout.toFixed(2); // 保留两位小数
        }
    }

    function clearInputs() {
        document.getElementById('resistor1').value = '';
        document.getElementById('resistor2').value = '';
        document.getElementById('result').value = '';
        document.getElementById('error-message').style.display = 'none';
    }
</script>
</body>
</html>
